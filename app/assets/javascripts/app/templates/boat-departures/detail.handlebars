<div class="navbar subnav">
	<div class="navbar-inner">
		<div class="container">
			<div class="btn-group pull-left">
				<a class="btn btn-inverse" href="#" {{action "show" target="JustDive.Controllers.Routed.DiveEvent" context="view.diveEvent"}}><i class="icon-chevron-left icon-white"></i>{{view.diveEvent.title}}</a>
			</div>
			<ul class="nav pull-left">
				<li class="divider-vertical"></li>
				<li><span class="navbar-text">{{view.boatDeparture.title}}</span></li>
			</ul>
		</div>
	</div>
</div>

<div class="hero-unit">
	<h1>{{view.boatDeparture.title}}</h1>
	{{#if view.isEditing}}
		<div class="field">
			{{view JustDive.DateField valueBinding="view.boatDeparture.departure_date"  placeholder="Departure date"}}
		</div>
		<div class="field">
			 {{view JustDive.Select viewName="select"
                          contentBinding="JustDive.restControllers.boats"
                          optionLabelPath="content.name"
                          optionValuePath="content.id"
                          prompt="Bateau :"
                          valueBinding="view.boatDeparture.boat_id"}}
		</div>
	{{else}}
		<p>{{view.boatDeparture.boat_id}}</p>
	{{/if}}

	<hr />
	<dl class="dl-horizontal">
		<dt>Id</dt>
        <dd>{{view.boatDeparture.id}}</dd>
		<dt>Id évènement</dt>
        <dd>{{view.boatDeparture.dive_event_id}}</dd>
		<dt>Créé le</dt>
        <dd>{{view.boatDeparture.created_at}}</dd>
		<dt>Modifié le</dt>
        <dd>{{view.boatDeparture.updated_at}}</dd>
    </dl>
</div>
<div class="actions"> 
	{{#if view.isEditing}}
		<button class="btn btn-danger" type="button" {{action "destroyObject"}}>Supprimer</button>
		<button class="btn" type="button" {{action "stopEditMode"}}>Annuler</button>
		<button class="btn btn-success" type="submit">Enregistrer</button>
	{{else}}
		<button class="btn btn-primary" type="button" {{action "startEditMode"}}>Modifier</button>
	{{/if}}
</div>

{{#unless view.isEditing}}
	<h2>Palanquées</h2>
	{{ view JustDive.Views.DiveGroups.List diveEventBinding="view.diveEvent" boatDepartureBinding="view.boatDeparture"}}
{{/unless}}